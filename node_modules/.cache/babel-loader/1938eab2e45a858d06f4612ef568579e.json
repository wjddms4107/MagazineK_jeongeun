{"ast":null,"code":"var _jsxFileName = \"/Users/nojeong-eun/Desktop/MagazineK_jeongeun/src/components/Nav/ProdInCart.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { useState } from 'react';\nimport './ProdInCart.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ProdInCart = _ref => {\n  _s();\n\n  let {\n    cartData,\n    decreaseTotalOrderNum,\n    increaseTotalOrderNum,\n    priceList,\n    setPriceList,\n    idx,\n    deleteCartData,\n    token\n  } = _ref;\n  const {\n    product_id\n  } = cartData;\n  const [orderNum, setOrderNum] = useState(cartData.quantity);\n\n  const patchCartData = change => {\n    fetch(`http://10.58.3.49:8000/orders/cart/${product_id}`, {\n      method: 'PATCH',\n      headers: {\n        AUTHORIZATION: token\n      },\n      body: JSON.stringify({\n        product: product_id,\n        calculation: change\n      })\n    });\n  };\n\n  const increaseOrderNum = () => {\n    setOrderNum(prev => prev + 1);\n    increaseTotalOrderNum();\n    patchCartData('addition');\n  };\n\n  const decreasseOrderNum = e => {\n    if (orderNum < 2) {\n      setOrderNum(1);\n    } else {\n      setOrderNum(prev => prev - 1);\n      decreaseTotalOrderNum();\n      patchCartData('subtraction');\n    }\n  };\n\n  priceList[idx] = cartData.price.toString().slice(0, 2) * orderNum;\n  useEffect(() => {\n    setPriceList(priceList);\n  }, []);\n  useEffect(() => {\n    setOrderNum(cartData.quantity);\n  }, [cartData]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"prodInCart\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"productInfo\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: cartData.picture,\n        alt: \"selected_tiny\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"description\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: cartData.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"\\u20A9\", priceList[idx], \",000\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"count\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            onClick: decreasseOrderNum,\n            src: \"https://magazine-b.co.kr/web/baton/images/icon/icon_product_minus_white.png\",\n            alt: \"minus\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: orderNum\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            onClick: increaseOrderNum,\n            src: \"https://magazine-b.co.kr/web/baton/images/icon/icon_product_plus_white.png\",\n            alt: \"plus\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        onClick: () => {\n          deleteCartData(product_id, idx, orderNum);\n        },\n        className: \"delete\",\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)\n  }, cartData.id, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ProdInCart, \"o/+1K9QxsMYjNemoalEr9+oTxQM=\");\n\n_c = ProdInCart;\nexport default ProdInCart;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProdInCart\");","map":{"version":3,"names":["React","useEffect","useState","ProdInCart","cartData","decreaseTotalOrderNum","increaseTotalOrderNum","priceList","setPriceList","idx","deleteCartData","token","product_id","orderNum","setOrderNum","quantity","patchCartData","change","fetch","method","headers","AUTHORIZATION","body","JSON","stringify","product","calculation","increaseOrderNum","prev","decreasseOrderNum","e","price","toString","slice","picture","title","id"],"sources":["/Users/nojeong-eun/Desktop/MagazineK_jeongeun/src/components/Nav/ProdInCart.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useState } from 'react';\nimport './ProdInCart.scss';\n\nconst ProdInCart = ({\n  cartData,\n  decreaseTotalOrderNum,\n  increaseTotalOrderNum,\n  priceList,\n  setPriceList,\n  idx,\n  deleteCartData,\n  token,\n}) => {\n  const { product_id } = cartData;\n  const [orderNum, setOrderNum] = useState(cartData.quantity);\n\n  const patchCartData = change => {\n    fetch(`http://10.58.3.49:8000/orders/cart/${product_id}`, {\n      method: 'PATCH',\n      headers: {\n        AUTHORIZATION: token,\n      },\n      body: JSON.stringify({\n        product: product_id,\n        calculation: change,\n      }),\n    });\n  };\n\n  const increaseOrderNum = () => {\n    setOrderNum(prev => prev + 1);\n    increaseTotalOrderNum();\n    patchCartData('addition');\n  };\n\n  const decreasseOrderNum = e => {\n    if (orderNum < 2) {\n      setOrderNum(1);\n    } else {\n      setOrderNum(prev => prev - 1);\n      decreaseTotalOrderNum();\n      patchCartData('subtraction');\n    }\n  };\n\n  priceList[idx] = cartData.price.toString().slice(0, 2) * orderNum;\n\n  useEffect(() => {\n    setPriceList(priceList);\n  }, []);\n\n  useEffect(() => {\n    setOrderNum(cartData.quantity);\n  }, [cartData]);\n\n  return (\n    <div key={cartData.id} className=\"prodInCart\">\n      <div className=\"productInfo\">\n        <img src={cartData.picture} alt=\"selected_tiny\" />\n        <div className=\"description\">\n          <div>{cartData.title}</div>\n          <div>₩{priceList[idx]},000</div>\n          <div className=\"count\">\n            <img\n              onClick={decreasseOrderNum}\n              src=\"https://magazine-b.co.kr/web/baton/images/icon/icon_product_minus_white.png\"\n              alt=\"minus\"\n            />\n            <span>{orderNum}</span>\n            <img\n              onClick={increaseOrderNum}\n              src=\"https://magazine-b.co.kr/web/baton/images/icon/icon_product_plus_white.png\"\n              alt=\"plus\"\n            />\n          </div>\n        </div>\n        <p\n          onClick={() => {\n            deleteCartData(product_id, idx, orderNum);\n          }}\n          className=\"delete\"\n        >\n          ×\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default ProdInCart;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}